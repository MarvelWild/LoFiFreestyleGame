	edible
	
	
	collectable
		
	
	+limit amount of apple drops
	
	
	
		its like regular place, like from editor,
			with extra info. think event inheritance/multievent composite
			
			
		+drop event: handle on client
		+drop event: handle on server
			spawn example(editor):editor_place_item
		drop is spawn
	+make apples fall
		-- todo: origin point for every sprite here
	position at footX, now it jumps from seed
apple tree

































































	
		+apple entity
		+define producing phase: 10, 
	+make it produce apples
	
	+load entities from subdirs
	
		+why it not here? (subdir result was not merged)
	+make it appear in editor
	position at footX, now it jumps from seed
apple tree



more nature



















































shift-click to select object



	make test: move all directions for same distance, measure time )
	log moves
	not reproduces. leave logging on.
something wrong with ms again
















qol: make app close faster


qol: ingame console



qol: enforce unique entity name (check, mb already?)


























idle animations, make world live



ai: pet want to be near friend











_      `-._     `-.     `.   \      :      /   .'     .-'     _.-'      _
 `--._     `-._    `-.    `.  `.    :    .'  .'    .-'    _.-'     _.--'
      `--._    `-._   `-.   `.  \   :   /  .'   .-'   _.-'    _.--'
`--.__     `--._   `-._  `-.  `. `. : .' .'  .-'  _.-'   _.--'     __.--'
__    `--.__    `--._  `-._ `-. `. \:/ .' .-' _.-'  _.--'    __.--'    __
  `--..__   `--.__   `--._ `-._`-.`_=_'.-'_.-' _.--'   __.--'   __..--'
--..__   `--..__  `--.__  `--._`-q(-_-)p-'_.--'  __.--'  __..--'   __..--
      ``--..__  `--..__ `--.__ `-'_) (_`-' __.--' __..--'  __..--''
...___        ``--..__ `--..__`--/__/  \--'__..--' __..--''        ___...
      ```---...___    ``--..__`_(<_   _/)_'__..--''    ___...---'''
```-----....._____```---...___(__\_\_|_/__)___...---'''_____.....-----'''






















	+_n - -- number default representation
+qol: less precise numbers in log, too much numbers now
















	just test it. later.
can we persist frame number? what lua integer limit?



+fun break - new character






qol: 1 click macro on mouse to restart server and client





	+now it does
+test when mounted should use mount movespeed






	

				+non-squared. squared  is faster, should used for comparsion, optimizations
			+squared / non squared?

			+function lume.distance(x1, y1, x2, y2, squared)
		+check libs / know ur libs
	+distance between points?
		+move chain:
		love.mousepressed
		Pow.mousePressed
		Entity.mousePressed(gameX,gameY,button,istouch)
		game _.mousePressed=function(gameX,gameY,button)
		ClientService.move(gameX,gameY)
		local event=_event.new("intent_move")
		event.target="server"
		-- calc move params here
		local responseEvent=_event.new("move")
	+duration calc (server only)
	+apply ms to ai movements
+movement speed





			
+fun: try elastic move
+return movement inertia, tune it












+fun break, add snail to test slow move speed


	+move away fro  border
+ai: something wrong with movement, it moves x or y only, stays in same place


	+put in game
	+paint
+firecamp






















			opt: do not send them to client, only send staus change (fatgued,well rested/fed)
		+send with slow update (once per sec), like entity_update event
	decrease with actions
	+decrease over time
	+define, show
		ms debuff
	when hits low
	when hits zero
		ms bonus
	when close to full
energy

	
	+elephant
	+camel
port stuff from gen1





more nature simulation





+clean / finish wip











	split player/human
play as anything


+mount camel

	mount hop has no duration
	Error: shared/entity/trait/movable.lua:93: attempt to concatenate local 'duration' (a boolean value)
	stack traceback:
					[string "boot.lua"]:777: in function '__concat'
					shared/entity/trait/movable.lua:93: in function 'move'
					shared/entity/trait/mountable.lua:72: in function 'do_mount'
					entity/service/client_service.lua:170: in function 'handler'
					shared/lib/powlov/module/net/event.lua:153: in function 'doProcessEvent'
					shared/lib/powlov/module/net/event.lua:188: in function 'processEvent'
					shared/lib/powlov/module/net/event.lua:198: in function 'process'
					shared/lib/powlov/module/net/client.lua:45: in function 'handler'
					shared/lib/powlov/module/net/client.lua:80: in function 'recv'
					shared/lib/powlov/deps/grease/grease/core.lua:122: in function 'update'
					shared/lib/powlov/module/net/client.lua:175: in function 'update'
					entity/service/client_service.lua:265: in function 'updateProc'
					shared/lib/powlov/module/entity/entity.lua:203: in function 'update'
					shared/lib/powlov/pow.lua:303: in function 'update'
					main.lua:96: in function 'update'











+Error: shared/entity/trait/mountable.lua:14: attempt to perform arithmetic on field 'mountX' (a nil value)
stack traceback:
        [string "boot.lua"]:777: in function '__add'
        shared/entity/trait/mountable.lua:14: in function '_get_rider_point'
        shared/entity/trait/mountable.lua:71: in function 'do_mount'
        entity/service/server_service.lua:411: in function 'handler'
        shared/lib/powlov/module/net/event.lua:153: in function 'doProcessEvent'
        shared/lib/powlov/module/net/event.lua:188: in function 'processEvent'
        shared/lib/powlov/module/net/event.lua:198: in function 'process'
        entity/trait/mountable.lua:38: in function 'interact'
        entity/player.lua:113: in function 'fnInteract'
        ...
        shared/lib/powlov/module/net/server.lua:101: in function 'recv'
        shared/lib/powlov/deps/grease/grease/core.lua:208: in function 'update'
        shared/lib/powlov/module/net/server.lua:261: in function '_serverLateUpdate'
        entity/service/server_service.lua:449: in function 'updateProc'
        shared/lib/powlov/module/entity/entity.lua:232: in function 'lateUpdate'
        shared/lib/powlov/pow.lua:308: in function 'update'
        main.lua:143: in function 'update'
        [string "boot.lua"]:612: in function <[string "boot.lua"]:594>
        [C]: in function 'xpcall'



		






	camel={
		[6]={
			sprite="camel",
			id=6,
			y=-63,
			x=-28.304216234414,
			...
		}
	
	there is clamp already, but they do
+ai: do not travel off screen

+clean log









			+should receive updated entity when processed on server? no, grow may have additional effects on client
		+process do_grow on c
		
					
		+stop calling do_grow when no next phase - later, todo
		+make phase increase
		+update grow_on
		+full cycle
	+test this
	+process do_grow on server
  +tree.update_simulation
+tree grow










grow: use root point when changing sprites (origin)








	
	
vegetation from gen1	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
  task-context dynamic log channel, with current task state
	qol
	
	
	
	
	
	
	
live land : can change shape	
	
	
	make it automatically if only 1 portal
	portal can be linked to other portal
portal locations














				+level scope
			+entity\trait\growable.lua
		+check send location
		
					
				+still no do_grow
			+trace all events (comment channels.event.useConsole=false)
		no event.
				
			+debug place tree
				+was growing too fast, now uses phase
				
				
			+need active client
			fix: no level_name in level event
		+trace send
	+confirm event
	+update sprite
+process do_grow on client









skip, make it peaceful
			send attack+result event to level
		zombie perform attack
			-define collision damage
		-take damage if collision with zombie
		+zombie npc
	zombie attack anyone
			only in debug mode
		+display (text)
		+define
	hp
combat mechanics




		and make it later - fun first
	make it simple for now - stop any movement on collision
		https://github.com/kikito/bump.lua closer, slide cossision is start,
			http://hc.readthedocs.org/? it only detect collision, not resolve move
		implement is_solid
	wall
solid objects (impassable)
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	Error: shared/lib/powlov/deps/grease/grease/tcp.lua:110: calling 'accept' on bad self 
nice message when port is busy	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
find out how much time before frame number overflow
	
	
	
	
	
	
	
	
	
	
	
	
ww-based stream minigame	
	
	
	
	
	
	
	
	
	

		

		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
				+warn: action on multiple objects not implemented - use random
	+should be able to unmount when riding over another mount

			+p2 can mount p1 mounted creature
			+on server - reject mount intent
		+don't allow to mount already mounted
			
		+when picking from mutiple mounts to interact, ignore mounted
	+test multiplayer
+test mount/unmount	
		
		
			+warn in that case
		+check feet of pegasus - nil
	+story: i click ul corner of mount, expecting it to move feet point there
	+collect data 
+mount foot position - now it moves to ul corner










	+easier debug: disable easing, make movement linear
	+test with linear speed

	

server:
slow/seems legit
554     calc_move_duration. move_speed:5 distance:27.365319989538 duration:5.4730639979077
554     [move]  Movable.move:player id:3 xy:57.422298285647,50 lvl:start to:72.25,73 dur:5.4730639979077
554     [move]  smoothMove:player id:3 xy:57.422298285647,50 lvl:start to65.25,58 dur:5.4730639979077

speedhack bug
986     calc_move_duration. move_speed:5 distance:4.7762432936357 duration:0.95524865872714
986     [move]  Movable.move:player id:3 xy:65.25,58 lvl:start to:68.75,61.25 dur:0.95524865872714
986     [move]  smoothMove:player id:3 xy:65.25,58 lvl:start to61.75,46.25 dur:0.95524865872714	


client:
220     [move]  Movable.move:player id:3 xy:57.422298285647,50 lvl:start to:72.25,73 dur:5.4730639979077
220     [move]  smoothMove:player id:3 xy:57.422298285647,50 lvl:start to65.25,58 dur:5.4730639979077


656     [move]  Movable.move:player id:3 xy:65.25,58 lvl:start to:68.75,61.25 dur:0.95524865872714
656     [move]  smoothMove:player id:3 xy:65.25,58 lvl:start to61.75,46.25 dur:0.95524865872714

		+collect log
	+reproduce: click on shoulder
	
	+log calculation. surprise ) already.
	+gotcha! distance was calculated not from foot point
+bug: fast run





















		+now it stored in Movable._smooth_moving
	+detect when rider still moving to seat


		queue move?
		fast finish, move both?
		
					sit
					approach
				split mount into parts
			fine too, cancel prev command!, make later
		move player
		
			+ok, some actions require time
		+not accept move command?
	should be:
+if player moves while moving to seat, then pegasus start to move, and player not







				+yes, some moves should calc foot point, some not, like here, with sit point
			+test
		+foot adjustment?
	+calc is right, move is not?


		
		+check gen1 - same
	+y seems inverted? - no

		+_get_rider_point info:
		+mount at:
		+player at:
	+story (log this): (unlog this)
+move to seat.

















[[
gen1:

always moves mount

	if actor.mountedOn~=nil then
		movingEntityRef=actor.mountedOn

]]

			+mount leading
					+in movable.move
				+rider intent should transform to mount intent
			+rider leading
			
					+Entity.onMoved
				+read gen1
			+rider follow mount
		+move code: move both
		
			+reset server, new data
				debug coord before after
				log this move
				seems mount moves with rider
			test
		move rider to mount
		
			
			
			what now?
		unmount
	>implement mount:
	
	
	implement deref on server
	think generic way to pin one entity to another, and move together. later
mount pegasus

	
	
	
	
	
	
	







































9401    calc_move_duration. move_speed:15 distance:
>112.50610373813
duration:7.5004069158751
9401    [move]  Movable.move:player id:1 xy:81.583654049608,74 lvl:start to:91.083654049608,89.75 dur:7.5004069158751
9401    [move]  smoothMove:player id:1 xy:81.583654049608,74 lvl:start to84.083654049608,74.75 dur:7.5004069158751
		
			
			
		+collect log
		+steps: click lr leg corner
	+speed is different
		+10 still slow
	+feels too slow
+test movement. make pantera fast.


+add level name into reference.

	
	+test with Db.getByRef
+_deref on server
	
	+where they stored on client? in game_state
+enfity.find on client. _deref


			+read gen1
		+reverse: find_by_ref (not implemented in gen2)
		+_ref=Entity.get_reference


			+test/implment bind on server
		+bind properties mounted_on, mounted_by

	+implement deref on client
+bind properties mounted_on, mounted_by

server: drop timeouted player (i may leave them in world actually, that seems fun)
server: do not join twice, use same player object if still not dropped by timeout


			make it auto for next modules later
		+multirequire shared mountable on client
		+use mountable.do_mount to process
		
	+unprocessed code="do_mount" on client
				+Error: entity/trait/mountable.lua:20: attempt to index global 'Event' (a nil value)
				
			+emitting from mountable
				+nah, emit from everywhere you want!
			+all event emitters are in server_service
		+emit mount event
	+implement mountable
			+with unwanted server code
		+or expose for now? no, do not garbage client
					
					
					
					+which project RL2
				+try mixing. read gen -1
				-try separated
			+merge server and shared or keep separated?
			+sounds ok. see movable shared trait
		+mountable shared base module?
	+both should call Mountable.do_mount? 	try shared
+mount part: mountable trait (server+client)









+server draw something )

+got working state, commit!

	+when refactoring, do both client and server!
+entityName->entity_name unfinished refactor
+levelName-level_name

	Error: shared/entity/trait/movable.lua:49: attempt to index local 'actor' (a nil value)
stack traceback:
        [string "boot.lua"]:777: in function '__newindex'
        shared/entity/trait/movable.lua:49: in function 'move'
        entity/service/client_service.lua:87: in function 'handler'

+client crash on move

+clear log, entity tostring reports level name now







				no help, other dirs interferring. hack editor, no ugly naming!
			try rename to e
		entity folder is interferring
	make entity to appear at top of list
qol

	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
		+old entity name came from save
		
		+Error: shared/lib/powlov/module/entity/entity.lua:257: attempt to concatenate local 'result'
		
+make server start again	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
apple tree
		horse
		apple
	feed apple to horse
	tamed follow player
tame animals


		


	+move теперь шлём на левел а не всем
+client 1 в космосе упал когда c2 start двигался
	
	
	+ивент не выполнялся на сервере
+прогружается старый стейт - пентера походила, юзаем портал, снова - она на старом месте






	+double require
+_entityByShape содержало сущности разных уровней
		
		
		
		+тут nil
	+local collisionEntity=_entityByShape[shape]
+test failed: multi portal a-b-a


	event
	{actorRef = {entity_name = "pegasus", id = 8, level_name = "start"} --[[table: 0x294c6518]], code = "move", entity_name = "Event", id = 210, 	target = "all", x = 201.37167591564, y = 680.51903374577} --[[table: 0x2943fb60]]
+error: move from start level went to space level player




+pegasus

+Error: shared/lib/powlov/module/collision.lua:188: attempt to get length of local 'result' (a nil value)
	stack traceback:
        [string "boot.lua"]:777: in function '__len'
        shared/lib/powlov/module/collision.lua:188: in function 'getAtEntity'
        entity/service/collision_service.lua:36: in function 'getEntityCollisions'
        entity/service/server_service.lua:284: in function 'handler'
        shared/lib/powlov/module/net/event.lua:149: in function 'doProcessEvent'
        shared/lib/powlov/module/net/event.lua:184: in function 'processEvent'
        shared/lib/powlov/module/net/event.lua:194: in function 'process'
        shared/lib/powlov/module/net/server.lua:295: in function 'handler'
        shared/lib/powlov/module/net/server.lua:101: in function 'recv'
        shared/lib/powlov/deps/grease/grease/core.lua:208: in function 'update'
        shared/lib/powlov/module/net/server.lua:270: in function '_serverLateUpdate'
        entity/service/server_service.lua:330: in function 'updateProc'
        shared/lib/powlov/module/entity/entity.lua:230: in function 'lateUpdate'
        shared/lib/powlov/pow.lua:306: in function 'update'
        main.lua:100: in function 'update'
        [string "boot.lua"]:612: in function <[string "boot.lua"]:594>
        [C]: in function 'xpcall'
				
				?Level.isActive("space" - false!
			+не добавился?
		+ожидалось что игрок удалится из коллизии и добавится в неё
	+после прохода через портал
	
		+где они добавляются во флюкс?
	+удалять сущности из флюкса при их удалении
+entity has no collision:player


	+использовать его
		+getLevelState
	+должно вернуться с стейтом
+space level bg
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	+не должно слаться клиенту
	+первое - это добавление в уровень "player"
+двойное добавление игрока на чистом старте







				+регистрировать все добавленные сущности в entity
			+те что принадлежат текущему левелу!
		+изучаем какие сущности надо анлоадить
		+игрок не анлоаднулся
	+анлоад на клиенте
	+дополнить инфой что это переход? да не важно, пусть на любом фулл стейт будет релоад
+ServerService.sendFullState(player)
		code:
			enter portal on server: Player.gotoLevel
			processing portal on client: entity\service\client_service.lua onStateReceived
	+unload prev state
	+should receive full_state on client
+enter portal, get into another level

+persist frame number


delete collisions
	можно отложить, пусть будет 1 менеджер сущностей на все левела пока что
	entitties is a prop of level
+multilevel support
cam setWorld level size
+space level
			draw it - later
		+-debug: get collision rect on client - later, use log
		
		+update on move
			+когда сущность добавляется на левел->Entity.add
		+регить в ней сущности
		+либа
	+on server
+collision model
		collisions (check gen1)
	activated by space
	placeable in editor
	+as item
+portal
item pickup
	
	low prior
server delete players from levels on shutdown
	low prior
server pause for debug
	перестало ломать запуск, отложено
не должны move посылать пока клиент не зашел на уровень




	для симуляции в фоне
	для отладки сервера
возможность прогружать мир на сервере без клиента


		+level_name to entity
	+handle
	+sim update event
seed should grow

	+do not run all at once, iterate em
+optimize ai
+camera zoom+-

	where it needed?
add level_name to entities for convenience
	
	log draw order - make sure its the reason of flicker
consistent draw sort (flickering now)


+warn:logging player which already on level
 
				+on game_start
			+activate/deactivate level
		+add entities on server
	+ai
	+to editor
+add panther
	

				+on first activation
			+query from server
		+define placeable items
			+seed should have sprite
		+draw active item
			+some entities could listen for keys
		+enable/disable by F11

			+entity react to mouse click
		+place by rclick
	+editor mode
+put seed into world
	+list_players_response - empty
	+сбросились коорд
+persist server
		+если игрок уже находится на уровне - не добавлять его повторно
	+если клиент падает то при повторном входе он ложит сервер
	+login into title
	
		+шлём уведомление всем кроме входящего
	+при входе второго игрока первый это не видит
+dual player test

+выход из игры при логоффе

+при втором логоффе сервер пытался удалить игрока с ид 1 хотя был создан с ид 2

	+если нету первого - команда на создать как раньше
	+логинимся первым из списка
	+сервером отдаём игрока
	+запрашиваем список
+нужно на логине заходить тем же игроком с ид=1
				
				+dont skip it on client
				+by removing from local state
			+handle entity_removed
				+make sure it sent
				+log all received
			+receive entity_removed on client
			+introduce event target type 'level'
		notify everyone on this level
		+remove player
			+do logoff on receive
		+send logoff ok event
	+handle logoff on server
	+send logoff event
+remove leaving player

+qol: clean start mode
	
	+draw upgraded
	+property defined
+entity draw layer property
	
	+make sure drawUi is called
	+add it to local entities
	+declare ui entity	
		reference: gen1, ui was fine. ok to paste
		then it managed by POW
		it has drawUi function
		ui component is local entity (service in current terms)
	ui fundamentals
hotbar ui











































client send walk intention to server
	server respond with walk command to all


+move camera to POW
+console custom title - bug with new lines
+упрощение до мгновенной обработки событий
+теперь каждое событие нужно вызывать process
+create_player_response send from server
+afterPlayerCreated react on client
+server response to game_start
	send game state+
		make first level 'start'+
			bg prop+
			objects list later+
	+send player state
	
+process full_state event on client	
	receive+
	+apply level
		+background
	+apply player position
zerobrane mod: custom bg pattern for files (know when you in lib/framework/game	



































session 2019-03-15
	events: use queue
		use deque as internal storage
		+pow: attach queue lib
			Pow.deque
				C:\Gamedev\Love\LoFiFreestyleGame\generation2\client\shared\lib\powlov\deps\cw-lua\deque\deque.lua
	
	


client respond to create_player
	вызов create_player_response
		\client\shared\lib\powlov\module\net\client.lua
		сейчас 
error:net msg not processed:{
cmd="events_client",
events={
        [1]={
                player={
                        entity="player",
                        name="mw",
                        id=4
                },
                target="login",
                code="create_player_response",
                id=4,
                entity="Event",
                targetLogin="c1"
        }
}
}#^#		






server sends create_player_response to client:
	should happens in 
	 error:event unprocessed:{
	player={
					entity="player",
					name="mw",
					id=2
	},
	target="login",
	code="create_player_response",
	id=2,
	entity="Event",
	targetLogin="c1"
	}
	stack traceback:
					shared/lib/powlov/deps/debug.lua:50: in function 'log'
					shared/lib/powlov/module/net/event.lua:142: in function 'doProcessEvent'
					shared/lib/powlov/module/net/event.lua:155: in function 'processEvent'
					shared/lib/powlov/module/net/event.lua:162: in function 'update'
					shared/lib/powlov/pow.lua:214: in function 'update'
					main.lua:29: in function 'update'
					[string "boot.lua"]:509: in function <[string "boot.lua"]:493>
					[C]: in function 'xpcall'
					[strin



+no id for services

server:

на обдумывание:
	некоторые обработчики нужны только в ответ на что-то.
	вешать их динамически и когда не нужны - снимать
	


	+108179  error:event unprocessed:{
	target="server",
	code="create_player",
	id=12,
	entity="Event",
	player_name="mw",
	login="c1"
	}
	stack traceback:
					shared/lib/powlov/deps/debug.lua:50: in function 'log'
					shared/lib/powlov/module/net/event.lua:141: in function 'doProcessEvent'
					shared/lib/powlov/module/net/event.lua:154: in function 'processEvent'
					shared/lib/powlov/module/net/event.lua:161: in function 'update'
					shared/lib/powlov/pow.lua:214: in function 'update'
					main.lua:22: in function 'update'
					[string "boot.lua"]:509: in function <[string "boot.lua"]:493>
					[C]: in function 'xpcall'
					[string "boot.lua"]:657: in function <[string "boot.lua"]:630>

+client: event without code


	812     entity:unload_state. level:start
	812     unload:player id:4 xy:71.96890821683,101.75
				_all проходит
			второй раз по анлоад стейта на новом стейте - тут не должен
			
	812     onEntityRemoved:{
		code = "entity_removed",
		entity_name = "Event",
		entityRef = {
			entity_name = "player",
			id = 4,
			level_name = "start"
		},
		id = 48,
		level = "start",
		target = "level"
	}		
			первый раз по портальному ремуву
		2 раза unload игрока запрошен
			пока что морочно, просто на клиенте игнорим
		да не надо себе же слать, мы ещё не на новом уровне, себя с полным стейтом получим
		затем оно же onEntityAdded
		первый раз удаляется по событию с сервера

+18047   error: removeDrawable failed. Entity was not in drawables:player id:1 xy:97.75,4.75




	
				+think those handlers generic way - later
			+it wont. implement single response handler on client
		+test afterLogin hit
	+on successfull login send request
	
	
	
	
	
	

	server reacts to create_player
client joins world p2

					+respond login_ok with login
				+должно заполниться после 
				+event.login=_netState.login не заполнено
				+событие без логина
			+shouldSendEventFromClient:1 t:server c:create_player targetLogin:nil result:false - it  should
			+пусть сервер и клиент это делают
		+что должно отправить событие? хранятся в pow.net.event
	+send create event  to server
		+create_player
	+create event for server
+client joins world p1


	+test receive
+client ack of login success	
+server responds to login command with 
+client connects



multipart entity (s+c+sha)

+Server start listening

	+pick net lib
		grease - picked
			pro
				known
			con
				too lowlevel, need boilerplate code/midware
					but could be good experience, no extra/unused code
					and better understanding
			
		noobhub - rejected
			pro
				noivelty
				can save time
			con
				js, not lua!
				
enforce strict later
				
				
plugin architecture
	api
		game itself as api? seems fine
		or short set of methods?


ingame dreams, playable )


ingame landscape paint



Concept
	private
	protected
	mystery
	rethink everything, totally new iteration
	no text in core, plugins only
	
	